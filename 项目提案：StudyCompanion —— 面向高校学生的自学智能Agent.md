## 项目提案：StudyCompanion —— 面向高校学生的自学智能Agent

### 团队信息

- **成员**：

------

### 一、项目背景与问题定义

在大学课堂中，学生经常面临以下两类困难：

1. **理解滞后**：课堂知识密集、领域门槛高，学生由于缺乏先验知识或讲课节奏较快，无法实时跟上老师的思路；
2. **复习低效**：期末面对数百页PPT时，难以理清知识脉络、抓住重点，复习成本高、系统性差。

现有的大语言模型虽然能回答问题，但存在三方面不足：

- 无法生成结构化、可复用的学习材料；
- 输出风格不可控，难以保持一致的教学逻辑；
- 上下文过长时容易偏离课程内容，影响准确性。

**StudyCompanion** 的目标是：让学生上传课程PPT后，Agent 能自动生成结构化、层次清晰、语言可控的学习资料，帮助学生在预习、听课和复习中都能“像有老师陪着讲解一样”地学习。

------

### 二、系统设计概述

### 系统模块与整体流程

**1) 前端（Web UI）**

- 技术：React + Tailwind CSS。
- 功能：提供PPT上传、模板选择、难度与详细度调节等入口，实时展示生成进度，并允许用户在线查看、编辑笔记。用户可在页面上切换不同模板（详细讲解、简略总结、思维导图、知识卡片等）。提供chatbot，为用户提供基于笔记的实时问答。可导出最终结果为Markdown或PDF文件。

**2) 后端（Agent服务层）**

- 技术：LangGraph（流程编排）、LangChain（RAG与模型接口）、FastAPI（服务端API）。
- 功能：负责PPT解析、OCR识别、分块检索、内容生成与回贴。

**3) 数据库（RAG存储层）**

- 组件：FAISS（向量索引）、PostgreSQL（结构化存储）、S3/OSS（截图与资源文件）。

#### 整体流程

1. **上传与解析**：学生上传PPT后，系统会自动读取文件结构，提取标题、段落和页号，并识别每页中的文本、图表和公式位置。解析完成后，内容被保存为一个带层级和坐标的结构，方便后续使用。
2. **识别与整理**：系统识别出图片、表格、公式和文本内容，统一整理成可编辑的格式。例如，表格会被还原成文本形式，公式则保留为截图或LaTeX表达。这样生成的笔记能够完整保留原课程的视觉结构。
3. **内容分块与提纲生成**：根据章节层级将内容分块。系统会先生成课程提纲，再逐节扩写讲解内容。为了让输出更符合课程逻辑，提示词会经过多轮调优，明确模型的角色（例如“课程讲师”）与目标（例如“严格按PPT顺序讲解”），并控制讲解风格和详细程度。
4. **笔记生成与优化**：系统按“提纲→扩写→整合”的顺序生成讲解文本。每个阶段会自动检查逻辑是否连贯、是否与提纲一致，若发现跑题或遗漏，系统会重新生成。上下文会自动裁剪以保持重点清晰。
5. **资产回贴与导出**：生成完成后，系统会把每一页对应的图片、表格和公式截图贴回合适的位置。最终生成的学习资料支持多种模板（详细笔记、简略总结、思维导图等），学生可以在前端直接预览或导出为PDF。

------

### 三、核心功能与创新点

#### 1. 模板化学习输出

支持五类输出形式：

- **详细讲解笔记**：逐页讲解、保留公式字母、定义与推导；
- **简略总结笔记**：提炼关键名词、概念与结论；
- **思维导图**：课程知识图谱化；
- **模拟试题**：生成选择、计算与简答题；
- **知识卡片**：用于记忆核心概念与定义。

#### 2. 个性化风格调节

提供“详细程度”与“讲解难度”两维度参数：

- 详细程度：非常详细 / 中等 / 简略；
- 难度层次：深奥（学术化）/ 中等（带解释）/ 简单（通俗化）。
   用户可根据自身需求生成不同版本的笔记，类似于“调节教学语气”。

#### 3. RAG增强方案

为解决传统RAG在PPT任务中“文档分块导致上下文断裂”的问题，本项目拟采用多重增强策略：

- **层次化切块（Hierarchical Chunking）**：按章节结构组织文本，使检索保留语义层次；
- **摘要锚点（Anchor Summaries）**：在切块时为每页生成摘要锚点，用于跨块关联；
- **动态上下文拼接（Dynamic Context Assembly）**：根据提纲层级动态调整召回范围；
- **分阶段Prompt规划**：先生成结构骨架，再填充细节，降低偏题风险。

这些方法配合Prompt工程，使生成内容在语义上更稳定、逻辑上更连贯。

------

### 四、实现计划

| 阶段    | 时间     | 主要任务                    |
| ------- | -------- | --------------------------- |
| 第1阶段 | 10月下旬 | 系统框架与网页界面搭建      |
| 第2阶段 | 11月上旬 | 构建RAG管线与层次化分块逻辑 |
| 第3阶段 | 11月中旬 | 模板库与风格调节功能实现    |
| 第4阶段 | 11月下旬 | 案例课程测试与演示准备      |

------

### 五、Demo与预期成果

展示案例选取 **COMP** 课程，演示流程包括：

1. 上传一节PPT；
2. 生成多版本学习笔记与思维导图；
3. 展示风格切换、对话式Refinement效果。

**预期成果：**

- 一个可在线交互的学习Agent原型；
- 多模板、可控风格的高质量学习材料；
- 一套可推广至其他课程的Prompt与RAG优化框架。